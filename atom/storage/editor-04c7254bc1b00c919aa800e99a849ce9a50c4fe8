{"mode":"editor","version":1,"windowDimensions":{"x":0,"y":-517,"width":1440,"height":873,"maximized":false},"grammars":{"deserializer":"GrammarRegistry","grammarOverridesByPath":{}},"project":{"paths":["/Users/lapier/github/scss-sort"],"buffers":[{"text":"ScssSortView = require './scss-sort-view'\n{CompositeDisposable} = require 'atom'\n\nmodule.exports = ScssSort =\n  scssSortView: null\n  modalPanel: null\n  subscriptions: null\n\n  activate: (state) ->\n    atom.commands.add 'atom-workspace', \"scss-sort:sort-selection\", => @sort_selection()\n    atom.commands.add 'atom-workspace', \"scss-sort:sort-rule-set\", => @sort_rule_set()\n    atom.commands.add 'atom-workspace', \"scss-sort:sort-nested-rule-set\", => @sort_nested_rule_set()\n\n  sort_selection: ->\n    editor = atom.workspace.getActivePaneItem()\n    selection = editor.getLastSelection()\n    textArray = selection.getText().split('\\n').filter (e) -> e ## Split by newLines then filter empty lines\n    sortedText = textArray.sort (a, b) ->\n      newA = a.replace(/@include /i, '').replace(/-webkit-/i, '').replace(/-moz-/i, '')\n      newB = b.replace(/@include /i, '').replace(/-webkit-/i, '').replace(/-moz-/i, '')\n      if (newA > newB) then return 1\n      if (newA < newB) then return -1\n      return 0\n    sortedText.push(\"\") ## Append a new line\n    selection.insertText(sortedText.join('\\n'))\n\n  sort_rule_set: ->\n    console.log \"Sort rule set\"\n    editor = atom.workspace.getActivePaneItem()\n    marker = editor.getScreenRow()\n    console.log marker\n\n  sort_nested_rule_set: ->\n    console.log \"Sort nested rule set\"\n\n  deactivate: ->\n    @modalPanel.destroy()\n    @subscriptions.dispose()\n    @scssSortView.destroy()\n\n  serialize: ->\n    scssSortViewState: @scssSortView.serialize()\n\n  toggle: ->\n    console.log 'ScssSort was toggled!'\n\n    if @modalPanel.isVisible()\n      @modalPanel.hide()\n    else\n      @modalPanel.show()\n","markerStore":{"version":2,"nextMarkerId":1,"markersById":{"0":{"range":{"start":{"row":0,"column":0},"end":{"row":0,"column":0}},"properties":{"type":"selection","editorId":8,"goalScreenRange":null,"preserveFolds":true},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}}},"history":{"version":2,"nextCheckpointId":1,"undoStack":[],"redoStack":[]},"encoding":"utf8","filePath":"/Users/lapier/github/scss-sort/lib/scss-sort.coffee","modifiedWhenLastPersisted":false,"digestWhenLastPersisted":"d42037b4f9e5dcbe6724b149b35e5c5f00829490","deserializer":"TextBuffer","version":2},{"text":"# Keybindings require three things to be fully defined: A selector that is\n# matched against the focused element, the keystroke and the command to\n# execute.\n#\n# Below is a basic keybinding which registers on all platforms by applying to\n# the root workspace element.\n\n# For more detailed documentation see\n# https://atom.io/docs/latest/behind-atom-keymaps-in-depth\n'atom-workspace':\n  'alt-1': 'scss-sort:sort-selection'\n  'alt-2': 'scss-sort:sort-rule-set'\n  'alt-3': 'scss-sort:sort-nested-rule-set'\n","markerStore":{"version":2,"nextMarkerId":1,"markersById":{"0":{"range":{"start":{"row":0,"column":0},"end":{"row":0,"column":0}},"properties":{"type":"selection","editorId":20,"goalScreenRange":null,"preserveFolds":true},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}}},"history":{"version":2,"nextCheckpointId":1,"undoStack":[],"redoStack":[]},"encoding":"utf8","filePath":"/Users/lapier/github/scss-sort/keymaps/scss-sort.cson","modifiedWhenLastPersisted":false,"digestWhenLastPersisted":"0fd54ee0bd055584bdd9aeee61fc47c1ef28991c","deserializer":"TextBuffer","version":2},{"text":"{\n  \"name\": \"scss-sort\",\n  \"main\": \"./lib/scss-sort\",\n  \"version\": \"0.0.0\",\n  \"description\": \"A short description of your package\",\n  \"keywords\": [\n  ],\n  \"activationCommands\": {\n    \"atom-workspace\": \"scss-sort:sort-selection\",\n    \"atom-workspace\": \"scss-sort:sort-rule-set\",\n    \"atom-workspace\": \"scss-sort:sort-nested-rule-set\"\n  },\n  \"repository\": \"https://github.com/atom/scss-sort\",\n  \"license\": \"MIT\",\n  \"engines\": {\n    \"atom\": \">=0.174.0 <2.0.0\"\n  },\n  \"dependencies\": {\n  }\n}\n","markerStore":{"version":2,"nextMarkerId":5,"markersById":{"0":{"range":{"start":{"row":0,"column":0},"end":{"row":0,"column":0}},"properties":{"type":"selection","editorId":14,"goalScreenRange":null,"preserveFolds":true},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"},"1":{"range":{"start":{"row":0,"column":0},"end":{"row":0,"column":1}},"properties":{},"reversed":false,"tailed":true,"valid":true,"invalidate":"overlap"},"2":{"range":{"start":{"row":19,"column":0},"end":{"row":19,"column":1}},"properties":{},"reversed":false,"tailed":true,"valid":true,"invalidate":"overlap"},"3":{"range":{"start":{"row":0,"column":0},"end":{"row":0,"column":1}},"properties":{},"reversed":false,"tailed":true,"valid":true,"invalidate":"overlap"},"4":{"range":{"start":{"row":19,"column":0},"end":{"row":19,"column":1}},"properties":{},"reversed":false,"tailed":true,"valid":true,"invalidate":"overlap"}}},"history":{"version":2,"nextCheckpointId":1,"undoStack":[],"redoStack":[]},"encoding":"utf8","filePath":"/Users/lapier/github/scss-sort/package.json","modifiedWhenLastPersisted":false,"digestWhenLastPersisted":"1db39fdf5df2f7664c93a8fe8c9f191320f61aa0","deserializer":"TextBuffer","version":2}],"deserializer":"Project"},"workspace":{"paneContainer":{"root":{"id":3,"items":[{"id":8,"softTabs":true,"displayBuffer":{"id":9,"softWrapped":false,"editorWidthInChars":null,"scrollTop":0,"scrollLeft":0,"tokenizedBuffer":{"bufferPath":"/Users/lapier/github/scss-sort/lib/scss-sort.coffee","deserializer":"TokenizedBuffer"},"deserializer":"DisplayBuffer"},"deserializer":"TextEditor"},{"deserializer":"SettingsView","version":2,"activePanelName":"Updates","uri":"atom://config/updates"},{"deserializer":"DeprecationCopView","uri":"atom://deprecation-cop","version":1},{"id":20,"softTabs":true,"displayBuffer":{"id":21,"softWrapped":true,"editorWidthInChars":null,"scrollTop":0,"scrollLeft":0,"tokenizedBuffer":{"bufferPath":"/Users/lapier/github/scss-sort/keymaps/scss-sort.cson","deserializer":"TokenizedBuffer"},"deserializer":"DisplayBuffer"},"deserializer":"TextEditor"},{"id":14,"softTabs":true,"displayBuffer":{"id":15,"softWrapped":false,"editorWidthInChars":null,"scrollTop":0,"scrollLeft":0,"tokenizedBuffer":{"bufferPath":"/Users/lapier/github/scss-sort/package.json","deserializer":"TokenizedBuffer"},"deserializer":"DisplayBuffer"},"deserializer":"TextEditor"}],"activeItemURI":"atom://config/updates","focused":false,"flexScale":1,"deserializer":"Pane"},"activePaneId":3,"deserializer":"PaneContainer","version":1},"fullScreen":false,"packagesWithActiveGrammars":["language-coffee-script","language-json","language-hyperlink","language-todo"],"deserializer":"Workspace"},"packageStates":{"script":{"scriptOptionsViewState":""},"fuzzy-finder":{"/Users/lapier/github/scss-sort/lib/scss-sort.coffee":1432163992849,"/Users/lapier/github/scss-sort/keymaps/scss-sort.cson":1431909508176,"/Users/lapier/github/scss-sort/package.json":1431909432611},"metrics":{"sessionLength":82693668},"tree-view":{"directoryExpansionStates":{"/Users/lapier/github/scss-sort":{"isExpanded":true,"entries":{"keymaps":{"isExpanded":true,"entries":{}},"lib":{"isExpanded":true,"entries":{}},"menus":{"isExpanded":false,"entries":{}},"spec":{"isExpanded":false,"entries":{}},"styles":{"isExpanded":false,"entries":{}}}}},"selectedPath":"/Users/lapier/github/scss-sort","hasFocus":false,"attached":true,"scrollLeft":0,"scrollTop":0,"width":200},"keybinding-resolver":{}}}